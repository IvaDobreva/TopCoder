<apex:page standardStylesheets="false" sidebar="false" showHeader="false" docType="html-5.0" controller="CrowdExchangeMemberMyProfileController">

    <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.AllResource, 'css/screen.css')}"/>
    <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.JqueryDatatable, 'media/css/jquery.dataTables.css')}"/>
    <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.PageResources, 'css/MemberMyProfile.css')}"/>
   
    <script src="{!URLFOR($Resource.JqueryDatatable, 'media/js/jquery.dataTables.js')}"></script>     
    <script src="{!URLFOR($Resource.AllResource, 'js/script.js')}"></script>
    <script src="{!URLFOR($Resource.PageResources, 'js/MemberMyProfile.js')}"></script>                  

   <script>

      //Map storing skill name and id
      var skillMap = JSON.parse('{!mapSkillString}');
      var skillIdMap = JSON.parse('{!skillMapping}');
      console.log(skillIdMap);
      
      //function that calls remote action for saving information
      function callSaveRemoteAction(){
          
          //get user information from input field
          var fName = $('.fName').val();
          var lName = $('.lName').val();
          var email = $('.email').val();
          var role = $('.role').val();
          var organization = $('.organization').val();
          var phoneNumber = $('.phoneNumber').val();
          var aboutMe = $('.aboutMe').val();
  
          //remote action for uploading user information
          Visualforce.remoting.Manager.invokeAction(              
          '{!$RemoteAction.CrowdExchangeMemberMyProfileController.uploadProfilePicture}', 
          '{!$User.Id}', isProfilePicChanged, filename,fileData, isBannerPicChanged, bFilename, bFileData,
           fName, lName, email, role, organization, phoneNumber, aboutMe,       
          function(result, event){
              if (event.status) {   
                  
                  //reload page if operation is successful
                  status = 'Upload Successful';
                  $(".bannerPicture")[0].value = "";
                  $(".profilePicture")[0].value = "";
                  window.location.reload(); 
              } else if (event.type === 'exception') {
                  status = 'Upload Error..';
                  window.location.reload(); 
              } else {
                  status = 'Upload Error';
                  window.location.reload(); 
              }
          }); 
      
      }
      
      //function for saving skills
      function saveSkills(){
         $('#darkLayer').show();
         var skillArray = new Array();
         
         //get existing skill information
         if($('.existingSkills').length > 0){
             $('.existingSkills').each(function () {
                 var Id = $(this).attr("id");
                 var skillName = $(this).find("div.jqTransformSelectWrapper")[0];
                 var textSkill = $(skillName).find("span").text();
                 var skillLevel = $(this).find("div.jqTransformSelectWrapper")[1];
                 var textLevel = $(skillLevel).find("span").text();
                 
                 //remove spaces from skill name
                 textSkill = textSkill.replace(/\s/g, "");
                 var skillId = skillIdMap[textSkill];
                 var skill = new UserSkill__c();
                 skill.Experience_Level__c = textLevel;
                 skill.Skill__c = skillId;
                 skill.Id = Id; 
                 skillArray.push(skill);       
             });
         }
         
         //get new skill information
         if($('.newSkill').length > 0){
             $('.newSkill').each(function () {
                     
                 var skillName = $(this).find("div.jqTransformSelectWrapper")[0];
                 var textSkill = $(skillName).find("span").text();
                 var skillLevel = $(this).find("div.jqTransformSelectWrapper")[1];
                 var textLevel = $(skillLevel).find("span").text();
                 
                 //remove spaces from skill name
                 textSkill = textSkill.replace(/\s/g, "");        
                 
                 var skillId = skillIdMap[textSkill];
                 var skill = new UserSkill__c();
                 skill.Experience_Level__c = textLevel;
                 skill.Skill__c = skillId;
                 skillArray.push(skill);       
             });
         }
         
         //Calling remote action to save skills
         if(skillArray.length>0){
             Visualforce.remoting.Manager.invokeAction(              
              '{!$RemoteAction.CrowdExchangeMemberMyProfileController.upsertSkills}', 
              skillArray,'{!$User.Id}',    
              function(result, event){       
                  if (event.status) {         
                      status = 'Upload Successful';
                      window.location.reload(); 
                  } else if (event.type === 'exception') {
                      status = 'Upload Error..';
                      window.location.reload(); 
                  } else {
                      status = 'Upload Error';
                      window.location.reload();                     
                  }
              });
              
         }
         
      }
      
   </script>
   <div id="darkLayer" class="darkClass">
      <div class="waitingDescription" style="background-image: url(/img/loading.gif);font-weight: bold;background-repeat: no-repeat;margin-top:20%;margin-left:45%;font-size:28px;color: black;">&nbsp; &nbsp; Please wait ....</div>
   </div>
   <div class="contents profile-contents">
      <div class="bg-border3"></div>
      <div class="boxs">
         <div class="banners">
            <div class="browse-bar location1">
               <span class="texts pull-left">Update Background. Drag image or <a href="javascript:;" class="blue-link browse-banner-background-link">Browse</a></span>
               <span class="icon-down-arrow pull-right"><i></i></span>
            </div>
            <!-- end .browse-bar -->
            <div class="browse-bar location2">
               <span class="texts pull-left">Update Photo. Drag image  or <a href="javascript:;" class="blue-link browse-profile-image-link">Browse</a></span>
               <span class="icon-down-arrow pull-left"><i></i></span>
            </div>
            <!-- end .browse-bar -->
            <apex:outputPanel rendered="{!headerImageAttachment!=null}">
               <img src="{!URLFOR($Action.Attachment.Download, headerImageAttachment.Id)}" class="banner-img" alt="banner" />
            </apex:outputPanel>
            <apex:outputPanel rendered="{!headerImageAttachment == null}">
               <img src="{!URLFOR($Resource.AllResource, 'i/i-3/edit-member-banner.jpg')}" class="banner-img" alt="banner" />
            </apex:outputPanel>
            <span class="edit-member-banner">
            <span class="banner-box"><img src="{!URLFOR($Resource.AllResource, 'i/i-3/edit-member-banner.jpg')}" class="edit-member-banner-img" alt="banner" /></span>          
            <input type="file" class="banner-background-input-file bannerPicture" />
            </span>
         </div>
         <!-- end .banners -->
         <article class="left-info pull-left">
            <div class="top-link">
               <a href="javascript:;" class="blue-link pull-left edit-member-profile-button" onclick="changeBorder();">Edit</a>
               <a href="javascript:;"  class="blue-link pull-right logout-member-profile-button">Logout</a>
               <span class="clearfix"></span>
            </div>
            <!-- end .top-link -->
            <div class="brief">
               <span class="profile-img"><img src="{!currentMember.FullPhotoUrl}" alt="profile" /></span>
               <span class="edit-user-img">
               <span class="profile-box">
               <img src="{!URLFOR($Resource.AllResource, 'i/i-3/edit-member-banner.jpg')}" alt="profile" />
               </span>
               <input type="file" class="profile-image-input-file profilePicture" />
               </span>
               <h2>
                  <apex:outputtext value="{!currentMember.Name}" />
               </h2>
            </div>
            <div class="text-module gray-border-top">
               <ul>
                  <li>
                     <span class="texts">Name</span>
                     <span class="value">
                        <apex:outputtext value="{!currentMember.Name}" />
                     </span>
                  </li>
                  <li>
                     <span class="texts">Email</span>
                     <span class="value">
                        <apex:outputtext value="{!currentMember.Email}" />
                     </span>
                  </li>
                  <li>
                     <span class="texts">Role</span>
                     <span class="value">
                        <apex:outputtext value="{!currentMember.Title}" />
                     </span>
                  </li>
                  <li>
                     <span class="texts">Organization</span>
                     <span class="value">
                        <apex:outputtext value="{!currentMember.Crowd_Exchange_Organization__c}" />
                     </span>
                  </li>
                  <li>
                     <span class="texts">Phone Number</span>
                     <span class="value">
                        <apex:outputtext value="{!currentMember.Phone}" />
                     </span>
                  </li>
                  <li class="about-me">
                     <span class="texts">About Me</span>
                     <p class="value">
                        <apex:outputtext value="{!currentMember.Crowd_Exchange_About_Me__c}" />
                     </p>
                  </li>
               </ul>
            </div>
            <!-- end .text-module -->
            <div class="edit-text-module">
               <div class="blue-btn-bar">
                  <h2 class="pull-left">Update Profile</h2>
                  <a href="javascript:;" class="white-btn pull-right save-member-profile-button" onclick="callSave();">SAVE PROFILE</a>
               </div>
               <!-- end .blue-btn-bar -->
               <ul>
                  <li>
                     <span class="texts">First Name:</span>
                     <span class="value input-box"> <input type="text" value="{!currentMember.FirstName}" class="fName" /></span>
                  </li>
                  <li>
                     <span class="texts">Last Name:</span>
                     <span class="value input-box"><input type="text" value="{!currentMember.LastName}" class="lName"/></span>
                  </li>
                  <li>
                     <span class="texts">Email:</span>
                     <span class="value input-box"><input type="text" value="{!currentMember.Email}" class="email"/></span>
                  </li>
                  <li>
                     <span class="texts">Role:</span>
                     <span class="value input-box"><input type="text" value="{!currentMember.Title}" class="role"/></span>
                  </li>
                  <li>
                     <span class="texts">Organization:</span>
                     <span class="value input-box"><input type="text" value="{!currentMember.Crowd_Exchange_Organization__c}" class="organization"/></span>
                  </li>
                  <li>
                     <span class="texts">Phone Number:</span>
                     <span class="value input-box"><input type="text" value="{!currentMember.Phone}" class="phoneNumber"/></span>
                  </li>
                  <li>
                     <span class="texts">About Me:</span>
                     <span class="value textarea-box">
                        <textarea class="aboutMe"><apex:outputText value="{!currentMember.Crowd_Exchange_About_Me__c}" /></textarea>
                     </span>
                  </li>
               </ul>
            </div>
            <!-- end .edit-text-module -->
         </article>
         <!-- end .left-info -->
         <div class="min-contents">
            <div class="info-group">
               <div class="col-3">
                  <div class="green-module container-module expert-skils">
                     <h2 class="number">
                        <apex:outputtext value="{!totalMemberSkill}" />
                     </h2>
                     <p class="texts">Member Skills</p>
                  </div>
                  <!-- end .container-module -->
               </div>
               <!-- end .col-3 -->
               <div class="col-3">
                  <div class="blue-module container-module current-activities">
                     <h2 class="number">
                        <span class="icon-current-activities"></span>
                        <apex:outputtext value="{!currentActivity}" />
                     </h2>
                     <p class="texts">Current Activities</p>
                  </div>
                  <!-- end .container-module -->
               </div>
               <!-- end .col-3 -->
               <div class="col-3">
                  <div class="black-module container-module total-activitys">
                     <h2 class="number">
                        <apex:outputtext value="{!totalActivity}" />
                     </h2>
                     <p class="texts">Total Activitys</p>
                  </div>
                  <!-- end .container-module -->
               </div>
               <!-- end .col-3 -->
               <div class="col-3">
                  <div class="blue-module container-module activitys-by-weeks">
                     <h2 class="number"><span class="icon-activitys-by-weeks">&nbsp;</span></h2>
                     <p class="texts">Activitys by Weeks</p>
                  </div>
                  <!-- end .container-module -->
               </div>
               <!-- end .col-3 -->
               <div class="clearfix"></div>
            </div>
            <!-- end .info-group -->
            <div class="row-title">
               <h2 class="pull-left">Member Skills</h2>
               <a href="javascript:;" class="blue-link pull-right edit-member-profile-skills" onclick="editSkills();">Edit</a>
               <a href="javascript:;" class="blue-border-btn width180 pull-right hide saveSkill" onclick="saveSkills();">SAVE MEMBER SKILLS</a>
            </div>
            <!-- end .row-title -->
            <!-- end .row-title -->
            <apex:outputPanel rendered="{!isMemberSkillPresent}">
               <div class="table-data member-info-table">
                  <div class="row row-th">
                     <div class="col-td width66"><span class="spacing-left8">Skill Title</span></div>
                     <div class="col-td width21"></div>
                     <div class="col-td width13">Level</div>
                  </div>
                  <apex:repeat value="{!listMemberSkills}" var="memberSkill">
                     <div class="row row-td">
                        <div class="col-td width66">
                           <span class="font18">
                              <apex:outputtext value="{!memberSkill.Skill__r.Name}" />
                           </span>
                        </div>
                        <div class="col-td width21">
                           <ul class="blue-progress-bar">
                              <apex:outputPanel rendered="{!memberSkill.Experience_Level__c = null}">
                                 <li></li>
                                 <li></li>
                                 <li></li>
                                 <li></li>
                                 <li></li>
                              </apex:outputPanel>
                              <apex:outputPanel rendered="{!memberSkill.Experience_Level__c = 'Entry'}">
                                 <li class="active"></li>
                                 <li></li>
                                 <li></li>
                                 <li></li>
                                 <li></li>
                              </apex:outputPanel>
                              <apex:outputPanel rendered="{!memberSkill.Experience_Level__c = 'Intermediate'}">
                                 <li class="active"></li>
                                 <li class="active"></li>
                                 <li></li>
                                 <li></li>
                                 <li></li>
                              </apex:outputPanel>
                              <apex:outputPanel rendered="{!memberSkill.Experience_Level__c = 'Specialist'}">
                                 <li class="active"></li>
                                 <li class="active"></li>
                                 <li class="active"></li>
                                 <li></li>
                                 <li></li>
                              </apex:outputPanel>
                              <apex:outputPanel rendered="{!memberSkill.Experience_Level__c = 'Expert'}">
                                 <li class="active"></li>
                                 <li class="active"></li>
                                 <li class="active"></li>
                                 <li class="active"></li>
                                 <li></li>
                              </apex:outputPanel>
                              <apex:outputPanel rendered="{!memberSkill.Experience_Level__c = 'Master'}">
                                 <li class="active"></li>
                                 <li class="active"></li>
                                 <li class="active"></li>
                                 <li class="active"></li>
                                 <li class="active"></li>
                              </apex:outputPanel>
                           </ul>
                        </div>
                        <div class="col-td width13">
                           <apex:outputtext value="{!memberSkill.Experience_Level__c}" />
                        </div>
                     </div>
                     <!-- end .row-td -->
                  </apex:repeat>
               </div>
               <!-- end .table-data -->
            </apex:outputPanel>
            <apex:outputPanel rendered="{!NOT(isMemberSkillPresent)}">
               <div class="table-data member-info-table">
                  <center>
                     <br></br>
                     <br></br>
                     <p class="gray-text font18">
                        <apex:outputText value="No Skills Present !!" />
                     </p>
                  </center>
               </div>
            </apex:outputPanel>
            <div class="table-data member-info-table edit-member-info-table">
               <div class="row row-th">
                  <div class="col-td width66"><span class="spacing-left8">Skill Title</span></div>
                  <div class="col-td width44">Level</div>
               </div>
               <apex:repeat value="{!listMemberSkills}" var="memberSkill">
                  <div class="row row-td existingSkills" id="{!memberSkill.Id}">
                     <div class="col-td width66">
                        <span class="form-container">
                           <span class="selects-container">
                              <select class="{!memberSkill.Id}">
                                 <apex:repeat value="{!skillOptions}" var="skill">
                                    <option value="{!skill.value}">
                                       <apex:outputText value="{!skill.Label}"/>
                                    </option>
                                 </apex:repeat>
                              </select>
                           </span>
                        </span>
                     </div>
                     <div class="col-td width44">
                        <span class="form-container">
                           <span class="selects-container">
                              <select class="select-skill-level">
                                 <apex:repeat value="{!skillLevel}" var="level">
                                    <option value="{!level.value}">
                                       <apex:outputText value="{!level.Label}"/>
                                    </option>
                                 </apex:repeat>
                              </select>
                           </span>
                        </span>
                     </div>
                  </div>
               </apex:repeat>
               <!-- end .row-td -->
               <div class="row row-td hide newSkill">
                  <div class="col-td width66">
                     <span class="form-container-hidden">
                        <span class="selects-container">
                           <select>
                              <apex:repeat value="{!skillOptions}" var="skill">
                                 <option value="{!skill.value}">
                                    <apex:outputText value="{!skill.Label}"/>
                                 </option>
                              </apex:repeat>
                           </select>
                        </span>
                     </span>
                  </div>
                  <div class="col-td width44">
                     <span class="form-container-hidden">
                        <span class="selects-container">
                           <select class="select-skill-level">
                              <apex:repeat value="{!skillLevel}" var="level">
                                 <option>
                                    <apex:outputText value="{!level.Label}"/>
                                 </option>
                              </apex:repeat>
                           </select>
                        </span>
                     </span>
                  </div>
               </div>
               <!-- end .row-td -->
               <div class="row row-td blue-row-td">
                  <div class="col-td width66">
                     <div class="form-container-input">
                        <span class="input-box">
                        <a href="javascript:;"><i></i></a>
                        <input type="text" placeholder="Select from list or type your own" />
                        </span>
                        <ul class="hide">
                           <apex:repeat value="{!skillOptions}" var="skill">
                              <li>
                                 <a href="javascript:;">
                                    <apex:outputText value="{!skill.Label}"/>
                                 </a>
                              </li>
                           </apex:repeat>
                        </ul>
                     </div>
                  </div>
                  <div class="col-td width21">
                     <div class="form-container-input width110">
                        <span class="input-box">
                        <a href="javascript:;"><i></i></a>
                        <input type="text" placeholder="Select Level" readonly="true"/>
                        </span>
                        <ul class="hide">
                           <li><a href="javascript:;">Master</a></li>
                           <li><a href="javascript:;">Expert</a></li>
                           <li><a href="javascript:;">Specialist</a></li>
                           <li><a href="javascript:;">Intermediate</a></li>
                           <li><a href="javascript:;">Junior</a></li>
                        </ul>
                     </div>
                  </div>
                  <div class="col-td width13">                     
                     <a href="javascript:;" class="white-btn pull-right add-member-skill-button">ADD</a>
                  </div>
               </div>
               <!-- end .row-td -->
            </div>
            <!-- end .table-data -->
            <div class="tab-content">
               <nav class="sub-tabs-bar">
                  <ul>
                     <li class="current"><i></i><a href="javascript:;">Internal Projects</a></li>
                     <li><i></i><a href="javascript:;">Current Activities ({!currentActivity})</a></li>
                     <li><i></i><a href="javascript:;">Completed Activities ({!completedActivityCount})</a></li>
                  </ul>
                  <a href="javascript:;" class="blue-link pull-right">Edit</a>
                  <span class="clearfix"></span>
               </nav>
               <!-- end .sub-tabs-bar -->
               <div class="clearfix tabs-clearfix"></div>
               <div class="internal-projects-contents sub-tab-content">
                  <div class="table-data">
                     <div>
                        <apex:outputPanel rendered="{!isInternalProjectsPresent}">
                           <table id="InternalProjects">
                              <thead style="display:none;">
                                 <tr>
                                    <th>
                                       <apex:outputText value="Name" />
                                    </th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <apex:repeat value="{!listInternalProjects}" var="internalProject">
                                    <tr>
                                       <td>
                                          <div class="info-module-row row row-td">
                                             <div class="link-bar">
                                                <a href="javascript:;" class="blue-link">
                                                   <apex:outputtext value="{!internalProject.Name}" />
                                                </a>
                                             </div>
                                             <apex:outputPanel rendered="{!internalProject.Internal_Project_Skills__r != null && internalProject.Internal_Project_Skills__r.size > 0}">
                                                <h3>
                                                   <span class="texts">Skills used:</span>
                                                   <span class="value">
                                                      <apex:repeat value="{!internalProject.Internal_Project_Skills__r }" var="internalProjectSkills">
                                                         <span>
                                                            <apex:outputtext value="{!internalProjectSkills.Skill__r.Name}," />
                                                         </span>
                                                      </apex:repeat>
                                                   </span>
                                                </h3>
                                             </apex:outputPanel>
                                             <p class="text-info">
                                                <apex:outputtext value="{!internalProject.Description__c}" />
                                             </p>
                                          </div>
                                          <!-- end .info-module-row -->
                                       </td>
                                    </tr>
                                 </apex:repeat>
                              </tbody>
                           </table>
                           <br />
                           <br />
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!NOT(isInternalProjectsPresent)}">
                           <div class="row row-td storys-row">
                              <br></br>
                              <br></br>
                              <br></br>
                              <center>
                                 <p class="gray-text font18">
                                    <apex:outputText value="No Internal Project's Present !!" />
                                 </p>
                              </center>
                              <br></br>
                              <br></br>
                              <br></br>
                           </div>
                           <!-- end .row -->
                        </apex:outputPanel>
                     </div>
                  </div>
               </div>
               <!-- end .internal-projects-contents -->
               <div class="current-activities-contents sub-tab-content hide">
                  <div class="table-data">
                     <apex:outputPanel rendered="{!isCurrentActivityPresent}">
                        <table id="CurrentActivityTable">
                           <thead style="display:none;">
                              <tr>
                                 <th>
                                    <apex:outputText value="Name" />
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <apex:repeat value="{!listCurrentActivity}" var="cActivity">
                                 <tr>
                                    <td>
                                       <div class="row row-td">
                                          <div class="col-module">
                                             <div class="mains blue-module">
                                                <div class="pull-left">
                                                   <span class="icon-current-activities"></span>
                                                   <div class="text-box">
                                                      <a href="#/memberActivityAssignAssigned/{!cActivity.id}" class="blue-link">
                                                         <apex:outputText value="{!cActivity.Name}" />
                                                      </a>
                                                      <p class="gray-text">
                                                         <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                                                            <!--  <apex:param value="{!cActivity.Start_Date__c}" />   -->
                                                            <apex:param value=""/>
                                                         </apex:outputText>
                                                         —
                                                         <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                                                            <!--   <apex:param value="{!cActivity.End_Date__c}" />  -->
                                                             <apex:param value=""/>
                                                         </apex:outputText>
                                                      </p>
                                                   </div>
                                                </div>
                                                <div class="clearfix"></div>
                                                <apex:outputPanel rendered="{!cActivity.Activity_Skills__r != null && cActivity.Activity_Skills__r.size > 0}">
                                                   <h3>
                                                      <div class="bottom-info">
                                                         <span class="texts">Skills used:</span>
                                                         <span class="value">
                                                            <apex:repeat value="{!cActivity.Activity_Skills__r  }" var="activitySkill">
                                                               <span>
                                                                  <apex:outputtext value="{!activitySkill.Skill__r.Name}," />
                                                               </span>
                                                            </apex:repeat>
                                                         </span>
                                                      </div>
                                                   </h3>
                                                </apex:outputPanel>
                                             </div>
                                          </div>
                                          <!-- end .col-module -->
                                       </div>
                                       <!-- end .row-td -->
                                    </td>
                                 </tr>
                              </apex:repeat>
                           </tbody>
                        </table>
                        <br />
                        <br />
                     </apex:outputPanel>
                     <apex:outputPanel rendered="{!NOT(isCurrentActivityPresent)}">
                        <div class="row row-td storys-row">
                           <br></br>
                           <br></br>
                           <br></br>
                           <center>
                              <p class="gray-text font18">
                                 <apex:outputText value="No Current Activity Present !!" />
                              </p>
                           </center>
                           <br></br>
                           <br></br>
                           <br></br>
                        </div>
                        <!-- end .row -->
                     </apex:outputPanel>
                  </div>
                  <!-- end .table-data -->  
               </div>
               <!-- end .current-activities-contents -->
               <div class="completed-activities-contents sub-tab-content hide">
                  <div class="table-data">
                     <apex:outputPanel rendered="{!isCompletedActivityPresent}">
                        <table id="CompletedActivity">
                           <thead style="display:none;">
                              <tr>
                                 <th>
                                    <apex:outputText value="Name" />
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <apex:repeat value="{!listCompletedActivityWrapper}" var="completedActivityWrap">
                                 <tr>
                                    <td>
                                       <div class="row row-td">
                                          <div class="col-module">
                                             <div class="mains blue-module">
                                                <div class="pull-left">
                                                   <span class="icon-current-activities"></span>
                                                   <div class="text-box">
                                                      <a href="#/memberActivityAssignAssigned/{!completedActivityWrap.completedActivity.id}" class="blue-link">
                                                         <apex:outputText value="{!completedActivityWrap.completedActivity.Name}" />
                                                      </a>
                                                      <p class="gray-text">
                                                         <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                                                            <!-- <apex:param value="{!completedActivityWrap.completedActivity.Start_Date__c}" />   -->
                                                            <apex:param value=""/>
                                                         </apex:outputText>
                                                         —  
                                                         <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                                                            <!--   <apex:param value="{!completedActivityWrap.completedActivity.End_Date__c}" />  -->
                                                            <apex:param value=""/>
                                                         </apex:outputText>
                                                      </p>
                                                   </div>
                                                </div>
                                                <apex:outputPanel rendered="{!completedActivityWrap.submission != null}">
                                                   <div class="pull-right">
                                                      <div class="text-box">
                                                         <span class="gray-text">
                                                            <apex:outputText value="{!completedActivityWrap.submission.Placement__c} place - " />
                                                            <apex:outputField value="{!completedActivityWrap.completedActivity.Cost__c}" />
                                                         </span>
                                                         <p class="black-text">
                                                            Score:
                                                            <apex:outputText value=" {!completedActivityWrap.submission.Evaluation_Percentage__c}" />
                                                            <span></span>
                                                            <apex:outputText value="{!completedActivityWrap.submission.Submission_Score__c} " />
                                                            points
                                                         </p>
                                                      </div>
                                                   </div>
                                                </apex:outputPanel>
                                                <span class="clearfix"></span>
                                                <apex:outputPanel rendered="{!completedActivityWrap.completedActivity.Activity_Skills__r != null && completedActivityWrap.completedActivity.Activity_Skills__r.size > 0}">
                                                   <div class="bottom-info">
                                                      <span class="texts">Skills used:</span>
                                                      <span class="value">
                                                         <apex:repeat value="{!completedActivityWrap.completedActivity.Activity_Skills__r }" var="activitySkill">
                                                            <span>
                                                               <apex:outputtext value="{!activitySkill.Skill__r.Name}," />
                                                            </span>
                                                         </apex:repeat>
                                                      </span>
                                                   </div>
                                                </apex:outputPanel>
                                             </div>
                                          </div>
                                          <!-- end .col-module -->
                                       </div>
                                       <!-- end .row-td -->
                                    </td>
                                 </tr>
                              </apex:repeat>
                           </tbody>
                        </table>
                        <br />
                        <br />
                     </apex:outputPanel>
                     <apex:outputPanel rendered="{!NOT(isCompletedActivityPresent)}">
                        <div class="row row-td storys-row">
                           <br></br>
                           <br></br>
                           <br></br>
                           <center>
                              <p class="gray-text font18">
                                 <apex:outputText value="No Completed Activity Present !!" />
                              </p>
                           </center>
                           <br></br>
                           <br></br>
                           <br></br>
                        </div>
                        <!-- end .row -->
                     </apex:outputPanel>
                  </div>
                  <!-- end .table-data -->         
               </div>
               <!-- end .completed-activities-contents -->
            </div>
            <!-- end .tab-content -->
         </div>
         <!-- end .min-contents -->
         <div class="clearfix"></div>
      </div>
   </div>
   <!-- end .contents -->
</apex:page>